(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],d=0,b=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&b.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0191":function(e,t,r){"use strict";r("a918")},"06f4":function(e,t,r){"use strict";r("0b92")},"07ed":function(e,t,r){var n={"./ambiance":"8546","./ambiance.js":"8546","./chaos":"f3d3","./chaos.js":"f3d3","./chrome":"95b8","./chrome.js":"95b8","./clouds":"c2bf","./clouds.js":"c2bf","./clouds_midnight":"c31c","./clouds_midnight.js":"c31c","./cobalt":"93be","./cobalt.js":"93be","./crimson_editor":"6593","./crimson_editor.js":"6593","./dawn":"5c08","./dawn.js":"5c08","./dracula":"d067","./dracula.js":"d067","./dreamweaver":"59e7","./dreamweaver.js":"59e7","./eclipse":"1d29","./eclipse.js":"1d29","./github":"62a2","./github.js":"62a2","./gob":"b89f","./gob.js":"b89f","./gruvbox":"431b","./gruvbox.js":"431b","./idle_fingers":"e02b","./idle_fingers.js":"e02b","./iplastic":"a518","./iplastic.js":"a518","./katzenmilch":"6f14","./katzenmilch.js":"6f14","./kr_theme":"1ea8","./kr_theme.js":"1ea8","./kuroir":"a63c","./kuroir.js":"a63c","./merbivore":"e654","./merbivore.js":"e654","./merbivore_soft":"a8aa","./merbivore_soft.js":"a8aa","./mono_industrial":"e477","./mono_industrial.js":"e477","./monokai":"14d4","./monokai.js":"14d4","./pastel_on_dark":"bd5e","./pastel_on_dark.js":"bd5e","./solarized_dark":"6c73","./solarized_dark.js":"6c73","./solarized_light":"9dac","./solarized_light.js":"9dac","./sqlserver":"15ba","./sqlserver.js":"15ba","./terminal":"24b2","./terminal.js":"24b2","./textmate":"83bf","./textmate.js":"83bf","./tomorrow":"e2ef","./tomorrow.js":"e2ef","./tomorrow_night":"a8a1","./tomorrow_night.js":"a8a1","./tomorrow_night_blue":"c6db","./tomorrow_night_blue.js":"c6db","./tomorrow_night_bright":"4687","./tomorrow_night_bright.js":"4687","./tomorrow_night_eighties":"f994","./tomorrow_night_eighties.js":"f994","./twilight":"79fb","./twilight.js":"79fb","./vibrant_ink":"3c70","./vibrant_ink.js":"3c70","./xcode":"b5a8","./xcode.js":"b5a8"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="07ed"},"0b92":function(e,t,r){},"12a6":function(e,t,r){"use strict";r("2e3f")},1311:function(e,t,r){"use strict";r("a13e")},"23d8":function(e,t,r){"use strict";r("5d92")},"23f4":function(e,t,r){"use strict";r("4e4f")},"23fb":function(e,t,r){},2668:function(e,t,r){},"2e3f":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="4678"},"4e4f":function(e,t,r){},"4e8d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return Yr}));var n=r("5530"),o=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("a026")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("c4-webapp",{attrs:{"full-width":!0}},[r("template",{slot:"title-slot"},[r("span",{staticClass:"p-headline"},[e._v("COMOCO")])])],2)},s=[],i=(r("99af"),r("2f62")),c=r("53ca"),l=r("ade3"),u=(r("b64b"),r("13d5"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a4d3"),r("e01a"),r("130f"),r("159b"),r("b0c0"),r("2ef0")),d=r.n(u);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Array.isArray(e)?e:Object.keys(e),n=v(t)?t:Object(u["cloneDeep"])(t);return Object(u["cloneDeep"])(r.reduce((function(e,t){return e[t]=n,e}),{}))}function f(){var e=location&&"https:"===location.protocol||!1;return(e?"wss://":"ws://")+"".concat(window.location.host).concat("/core4/api/v1")}function p(e,t,r){var n;return n={from:e,to:t},Object(l["a"])(n,Symbol.iterator,(function(){return this})),Object(l["a"])(n,"next",(function(){return r?(void 0===this.current&&(this.current=this.to),this.current>=this.from?{done:!1,value:this.current--}:(delete this.current,{done:!0})):(void 0===this.current&&(this.current=this.from),this.current<=this.to?{done:!1,value:this.current++}:(delete this.current,{done:!0}))})),n}function m(e){if(!j(e))return console.warn("Function should be a generator - ".concat(e)),e;window.setImmediate||(window.setImmediate=function(){var e={},t=e,r=Math.random();function n(t){if(t.data===r){e=e.next;var n=e.func;delete e.func,n()}}return window.addEventListener?window.addEventListener("message",n):window.attachEvent("onmessage",n),function(e){t=t.next={func:e},window.postMessage(r,"*")}}());var t=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=r.onNext,a=r.onErr,s=r.onCompleted,i=r.unsubscribe,c=t.next(n),l=c.value;if(!i())return c.done?s():void(g(l)?l.then((function(n){o(n),setImmediate((function(){return e(t,r,n)}))}),(function(n){a(n),setImmediate((function(){return e(t,r,n)}))})):(o(l),setImmediate((function(){return e(t,r,l)}))))},r=function(e){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return{subscribe:function(r,o,a,s){t(e.apply(void 0,n),{onNext:r,onErr:o,onCompleted:a,unsubscribe:s})}}}};return r(e)}function h(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var o=r.shift();return void 0===o?e:(k(e)&&k(o)&&Object.keys(o).forEach((function(t){k(o[t])?(e[t]||(e[t]={}),h(e[t],o[t])):e[t]=o[t]})),h.apply(void 0,[e].concat(r)))}function g(e){return Boolean(e)&&"function"===typeof e.then}function j(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||j(t.prototype))}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return null!==e&&"object"===Object(c["a"])(e)}function _(e){return 0===Object.keys(e).length&&e.constructor===Object}function k(e){return y(e)&&!Array.isArray(e)}var x,w={name:"Comoco",components:{},computed:Object(n["a"])({},Object(i["c"])(["authenticated"])),mounted:function(){},watch:{authenticated:function(e,t){if(this.$disconnect(),e&&e!==t){var r=JSON.parse(localStorage.getItem("user")).token;this.$connect("".concat(f(),"/event?token=").concat(r))}}}},C=w,O=(r("12a6"),r("2877")),E=Object(O["a"])(C,a,s,!1,null,"43bd671c",null),S=E.exports,D=r("8c4f"),J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("c4-page",[r("v-row",{staticClass:"pr-5 pb-3 pl-5",attrs:{justify:"end"}},[r("start-job")],1),r("v-layout",{attrs:{column:""}},[e._l(e.notifications,(function(t,n){return r("v-flex",{key:n},[t.inComponents.includes("home")?r("c4-notification",{attrs:{show:t.state,type:t.type,message:t.message,dismissible:t.dismissible,timeout:t.timeout,name:n},on:{"timeout-handler":e.notificationUpdateHandler}},[r(t.slot,{tag:"component"})],1):e._e()],1)})),r("v-flex",[r("v-row",{attrs:{"no-gutters":""}},e._l(e.groupsJobsByStates,(function(t,n){return r("v-col",{key:n,staticClass:"px-2 pb-2",attrs:{cols:"12",md:"4"}},[r("board",{attrs:{name:n,flags:e.flags,states:t}})],1)})),1)],1),e.stockChartVisible?r("v-flex",{attrs:{"ma-2":"","hidden-sm-and-down":""}},[r("stock-chart",{key:e.dark,attrs:{isDark:e.dark}})],1):r("v-btn",{staticClass:"toggleIcon",attrs:{large:"",icon:""},on:{click:function(t){return e.$store.dispatch("app/toggleChartVis")}}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-chevron-up")])],1)],2),r("job-detail",{attrs:{"job-detail-dialog-open":e.jobDetailDialogOpen}}),r("confirm-dialog",{ref:"confirm"})],1)},R=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"pb-5 pt-1"},[r("v-toolbar",{staticClass:"pl-5",attrs:{flat:"",color:"transparent"}},[r("v-row",{staticClass:"qualname"},[r("div",[r("h5",{staticClass:"grey--text"},[e._v("Qualname")]),r("h2",[e._v(e._s(e.job.qual_name||e.job.name)+" "),r("v-btn",{staticStyle:{"margin-top":"-4px"},attrs:{icon:"",small:""},on:{click:function(t){return e.copy(e.job.qual_name||e.job.name)}}},[r("v-icon",{attrs:{small:""}},[e._v("mdi-content-copy")])],1)],1)]),r("h2",{staticClass:"job-count"},[e._v(e._s(e.jobs.length))])]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.close()}}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-close")])],1)],1),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-data-table",{staticClass:"job-dt elevation-1",attrs:{dense:"","single-select":"",headers:e.headers,"item-key":"_id","xxxshow-select":"","item-class":e.itemClass,items:e.internalJobs,loading:e.loading,"single-expand":"",expanded:e.internalJob,"server-items-length":e.totalJobs,options:e.options,"footer-props":{itemsPerPageOptions:e.jobRowsPerPageItems},"show-expand":""},on:{"update:expanded":function(t){e.internalJob=t},"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var n=t.headers;return[r("td",{staticClass:"px-0 pt-0 pb-6",attrs:{colspan:n.length}},[r("v-row",[r("v-col",{staticClass:"pr-1 pl-8 pb-0 pt-4",attrs:{cols:"10"}},[r("v-tabs",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tab",[e._v("Log")]),r("v-tab",[e._v("Args")])],1),r("v-tabs-items",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tab-item",[r("v-textarea",{attrs:{rows:"12",filled:"",dark:e.$store.getters.dark,label:"",value:e.internalLogMessage,readonly:""}})],1),r("v-tab-item",[1===e.tabs?r("args-display",{attrs:{"job-id":e.internalJob[0]._id}}):e._e()],1)],1)],1),r("v-col",{staticClass:"pr-6",staticStyle:{"margin-top":"65px"},attrs:{cols:"2",justify:"center",align:"center"}},[r("job-managment-buttons",{attrs:{"job-count":e.jobs.length}})],1)],1)],1)]}},{key:"item._id",fn:function(t){var n=t.item;return[e._v(" "+e._s(n._id)+" "),r("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.copy(n._id)}}},[r("v-icon",{attrs:{small:""}},[e._v("mdi-content-copy")])],1)]}},{key:"item.state",fn:function(t){var r=t.item;return[e._v(" "+e._s(r.$removed?"-":r.state)+" ")]}},{key:"item.started_at",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("date")(r.started_at))+" ")]}},{key:"item.enqueued",fn:function(t){var r=t.item;return[e._v(" "+e._s(r.enqueued.username)+" ")]}},{key:"item.runtime",fn:function(t){var r=t.item;return[r.runtime?[e._v(" "+e._s(e._f("number")(r.runtime))+" ")]:[e._v(" ? ")]]}},{key:"item.prog",fn:function(t){var r=t.item;return[r.prog.value?[e._v(" "+e._s(e._f("number")(100*r.prog.value))+"% ")]:[e._v(" ? ")]]}}]),model:{value:e.internalJob,callback:function(t){e.internalJob=t},expression:"internalJob"}})],1)],1)],1)],1)],1)},F=[],q=r("1da1"),$=(r("96cf"),r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"px-3",attrs:{justify:"center"}},[r("v-btn",{staticClass:"mb-4",attrs:{block:"",color:"secondary lighten-3",disabled:"running_complete".includes(e.job.state)||e.jobManagerBusy||e.job.$removed,large:e.jobCount>1},on:{click:e.beforeRestart}},[e._v("Restart")]),r("v-btn",{staticClass:"mb-4",attrs:{block:"",disabled:"error_complete_killed".includes(e.job.state)||e.jobManagerBusy||e.job.$removed,color:"secondary lighten-3",large:e.jobCount>1},on:{click:e.beforeKill}},[e._v("Kill")]),r("v-btn",{attrs:{block:"",color:"secondary lighten-3",disabled:"running_complete".includes(e.job.state)||e.jobManagerBusy||e.job.$removed,large:e.jobCount>1},on:{click:e.beforeRemove}},[e._v("Remove")]),e.jobManagerBusy?[r("v-progress-circular",{staticClass:"mt-2",attrs:{indeterminate:"",size:50,width:5,color:"grey"}})]:e._e()],2)}),T=[],A=(r("a9e3"),{props:{jobCount:{type:Number,default:1,required:!0}},computed:Object(n["a"])({},Object(i["e"])("jobs",["job","jobManagerBusy"])),methods:{beforeKill:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.$confirm.open("„Kill“ selected job?","The selected job will be „killed“. Are you sure?",{color:"primary darken-1",yes:"Kill"});case 2:if(!t.sent){t.next=6;break}e.$store.dispatch("jobs/manageJob","kill"),t.next=6;break;case 6:case"end":return t.stop()}}),t)})))()},beforeRestart:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.$confirm.open("Restart selected job?","The selected job will be restarted. Are you sure?",{color:"primary darken-1",yes:"Restart"});case 2:if(!t.sent){t.next=6;break}e.$store.dispatch("jobs/manageJob","restart"),t.next=6;break;case 6:case"end":return t.stop()}}),t)})))()},beforeRemove:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.$confirm.open("Remove selected job?","The selected job will be removed. Are you sure?",{color:"primary darken-1",yes:"Remove"});case 2:if(!t.sent){t.next=6;break}e.$store.dispatch("jobs/manageJob","remove"),t.next=6;break;case 6:case"end":return t.stop()}}),t)})))()}}}),P=A,B=Object(O["a"])(P,$,T,!1,null,"5cfd7a88",null),N=B.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"min-height":"250px"}},[r("pre",[e._v(e._s(e.job.args))])])},z=[],M={props:{jobId:{type:String,default:"",required:!0}},mounted:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("jobs/fetchJobArgs",e.jobId);case 1:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(i["c"])("jobs",["job"]))},H=M,G=Object(O["a"])(H,I,z,!1,null,"d9f5cdce",null),U=G.exports,V=[{text:"JobId",align:"start",sortable:!1,value:"_id"},{text:"State",align:"start",sortable:!1,value:"state"},{text:"Username",align:"start",sortable:!1,value:"enqueued"},{text:"Started",align:"end",sortable:!1,value:"started_at"},{text:"Runtime (sek)",align:"end",sortable:!1,value:"runtime"},{text:"Progress",align:"end",sortable:!1,value:"prog"}],Y={props:{jobDetailDialogOpen:{type:Boolean,default:!1,required:!0}},filters:{number:function(e){var t={maximumFractionDigits:2,minimumFractionDigits:1};return null!=e?new Intl.NumberFormat("de-DE",t).format(e):e},date:function(e){var t={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(e).toLocaleDateString("de-DE",t)}},components:{JobManagmentButtons:N,ArgsDisplay:U},data:function(){return{tabs:null,headers:V,expanded:null,options:{},loading:!1}},methods:{itemClass:function(e){if(e.$removed)return"black-border";var t=e.state+"-border";return t},copy:function(e){window.navigator.clipboard.writeText(e||this.job.qual_name||this.job.name)},close:function(){this.$store.dispatch("jobs/clearJob",!0)},throttledLoad:d.a.debounce((function(){this.load()}),500),load:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$nextTick();case 3:return t.next=5,e.$store.dispatch("jobs/fetchJobsByName",{options:e.options,job:e.job});case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){},watch:{options:{handler:function(){this.throttledLoad()},deep:!0},jobDetailDialogOpen:function(e,t){e&&this.throttledLoad()},internalLogMessage:function(e){null!=e&&e.length>200&&(clearTimeout(x),x=setTimeout((function(){try{var e=document.querySelector(".job-dt").querySelector("textarea");e.scrollTop=e.scrollHeight}catch(t){}}),1))}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])("jobs",["job","log","jobs","filter","filteredJobs","jobRowsPerPageItems","totalJobs"])),{},{id:function(){return this.job._id},internalLogMessage:function(){return this.log},internalJobs:function(){var e=this;return this.filteredJobs.map((function(t){return Object.assign(t,{isSelectable:t._id!==e.job._id})}))},dialog:{get:function(){return this.jobDetailDialogOpen},set:function(e){console.log(e),!1===e&&this.close()}},internalJob:{get:function(){return[this.job]},set:function(e){(e||[]).length>0&&e[0]._id!==this.job._id&&this.$store.dispatch("jobs/setJob",e[0])}}})},K=Y,Q=(r("0191"),r("c31cb"),Object(O["a"])(K,L,F,!1,null,"264ef841",null)),W=Q.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("v-card",[r("v-toolbar",{attrs:{color:"secondary",dark:"",dense:"",flat:""}},[r("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4"},[e._v(e._s(e.message))]),r("v-card-actions",{staticClass:"pt-0"},[r("v-spacer"),r("v-btn",{attrs:{text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")]),r("v-btn",{ref:"yes",attrs:{tabindex:"0",text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e._v(e._s(e.options.yes))])],1)],1)],1)},X=[],ee={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"secondary",width:290,zIndex:200,yes:"Delete"}}},computed:{show:{get:function(){return this.dialog},set:function(e){this.dialog=e,!1===e&&this.cancel()}}},methods:{open:function(e,t,r){var n=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),new Promise((function(e,t){n.resolve=e,n.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}},te=ee,re=Object(O["a"])(te,Z,X,!1,null,null,null),ne=re.exports,oe="SOCKET_ONOPEN",ae="SOCKET_ONCLOSE",se="SOCKET_ONERROR",ie="SOCKET_ONMESSAGE",ce="SOCKET_RECONNECT",le="SOCKET_RECONNECT_ERROR",ue="ERROR_CHANGE_STATE",de=["enqueue_job","request_start_job","start_job","failed_start","defer_job","flag_nonstop","flag_zombie","failed_job","inactivate_job","complete_job","request_remove_job","restart_waiting","restart_stopped","request_kill_job","kill_job","remove_job"],be=["running","pending","deferred","failed","error","inactive","killed"],fe={pending:"#ffc107",deferred:"#f1f128",failed:"#11dea2",running:"#64a505",error:"#d70f14",inactive:"#8d1407",killed:"#d8c9c7"},pe={pending:"waiting",deferred:"waiting",failed:"waiting",running:"running",error:"stopped",inactive:"stopped",killed:"stopped"},me={killed:"k",wall:"n",removed:"r",zombie:"z"},he=function(e){var t={};for(var r in e)(t[e[r]]=t[e[r]]||[]).push(r);return t}(pe),ge=Object.keys(he),je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"board",class:{"full-size":!e.stockChartVisible}},[r("info",{attrs:{name:e.name,states:e.states}}),r("transition-group",{staticClass:"nowrap jobs mt-3",attrs:{name:"jobs-list",tag:"v-row"}},e._l(e.getJobsByGroupName(e.name),(function(t){return r("v-col",{key:t.key,staticClass:"jobs-list-item pt-0 pb-1 px-3",attrs:{cols:"12"}},[r("job",{attrs:{flags:e.flags,job:t}})],1)})),1)],1)},ve=[],ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"job px-2 pt-1 pb-0",class:"job-"+e.job.state,attrs:{"no-gutters":""},on:{click:e.onClick}},[r("v-col",{attrs:{cols:"12"}},[r("h2",{staticClass:"caption"},[e._v(e._s(e._f("accountName")(e.job.name)))]),r("v-row",{attrs:{"no-gutters":"",align:"center"}},[r("v-col",{staticClass:"name text-truncate"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("span",e._g({staticClass:"subheading"},n),[e._v(e._s(e._f("shortName")(e.job.name)))])]}}])},[r("span",[e._v(e._s(e.job.name))])])],1),r("v-col",{staticClass:"text-right"},[r("span",{staticClass:"job-count"},[e._v(e._s(e.job.n))])])],1),r("job-state",{attrs:{flags:e.flags,job:e.job}})],1),"running"===e.job.state?r("v-progress-linear",{attrs:{color:"#64a505",height:"4",value:100*e.job.progress}}):e._e()],1)},_e=[],ke=(r("fb6a"),r("1276"),r("ac1f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"flags",attrs:{justify:"end","no-gutters":""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return e._l(e.flags,(function(t,o){return r("span",e._g({key:o,staticClass:"text-uppercase font-weight-bold flag",class:[e.job[o]?"active":"passive"]},n),[e._v(" "+e._s(t)+" ")])}))}}])},[r("span",[e._v("K - killed, N - nonstop, R - removed, Z - zombie")])])],1)}),xe=[],we={props:{flags:{type:Object,required:!1},job:{type:Object,required:!0}}},Ce=we,Oe=(r("1311"),Object(O["a"])(Ce,ke,xe,!1,null,"6b4e3738",null)),Ee=Oe.exports,Se={components:{JobState:Ee},name:"job",props:{job:{type:Object,required:!0},flags:{type:Object,required:!1}},filters:{shortName:function(e){return e.split(".").slice(-1)[0]},accountName:function(e){return e.split(".")[0]}},methods:{onClick:function(){this.$store.dispatch("jobs/clearJob"),this.$store.dispatch("jobs/openJobsDialog",this.job)}}},De=Se,Je=(r("d8db"),Object(O["a"])(De,ye,_e,!1,null,"6fa0910a",null)),Re=Je.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"border-info",attrs:{"no-gutters":""}},[r("v-col",{staticStyle:{height:"38px"},attrs:{cols:"12"}},[r("v-row",{attrs:{"no-gutters":""}},e._l(e.states,(function(t,n){return r("v-flex",{key:n,staticClass:"info-groups",class:"state-"+t},["running"!==t?[r("v-row",{staticClass:"text-truncate pa-1",attrs:{"no-gutters":""}},[r("v-flex",{attrs:{xs8:""}},[r("span",{staticClass:"font-weight-bold grey--text"},[e._v(e._s(t))])]),r("v-flex",{staticClass:"text-right",attrs:{xs4:""}},[r("span",{staticClass:"font-weight-bold grey--text"},[e._v(e._s(e.getStateCounter([t])))])])],1)]:e._e()],2)})),1)],1),r("v-col",{staticClass:"px-2 pb-2",attrs:{cols:"12"}},[r("v-row",{attrs:{"no-gutters":"","pa-1":""}},[r("v-flex",{attrs:{xs9:""}},[r("span",{staticClass:"headline text-lowercase text-truncate"},[e._v(e._s(e.name))])]),r("v-flex",{staticClass:"text-right",attrs:{xs3:""}},[r("span",{staticClass:"job-count text-lowercase text-truncate"},[e._v(e._s(e.getStateCounter(e.states)))])])],1)],1)],1)},Fe=[],qe={name:"board-header",props:{name:{type:[String],required:!0},states:{type:[Array],required:!0}},computed:Object(n["a"])({},Object(i["c"])(["getStateCounter"]))},$e=qe,Te=(r("23f4"),Object(O["a"])($e,Le,Fe,!1,null,"a64a74e6",null)),Ae=Te.exports,Pe={name:"board",components:{Job:Re,Info:Ae},props:{name:{type:[String],required:!0,default:"Other"},flags:{type:[Object],required:!1},states:{type:[Array],required:!0}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["getJobsByGroupName"])),Object(i["c"])("app",["stockChartVisible"])),mounted:function(){}},Be=Pe,Ne=(r("23d8"),Object(O["a"])(Be,je,ve,!1,null,"8f82cc6a",null)),Ie=Ne.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",[r("v-btn",{staticClass:"toggleIcon",attrs:{large:"",icon:""},on:{click:function(t){return e.$store.dispatch("app/toggleChartVis")}}},[r("v-icon",[e._v("mdi-chevron-down")])],1),r("v-flex",{staticClass:"chart",class:{shadow:!e.isDark}},[r("vue-highcharts",{ref:"chart",attrs:{"constructor-type":"stockChart",options:e.chartOptions}})],1)],1)},Me=[],He=(r("caad"),r("2532"),r("c1df")),Ge=r.n(He),Ue={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#fff",style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#d6d6dc"},title:{style:{color:"#c4c4c9",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#c4c4c9",textTransform:"uppercase"}},xAxis:{gridLineColor:"#73080d",labels:{style:{color:"#98989c"}},title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#c4c4c9",labels:{style:{color:"#98989c"}},lineColor:"#d6d6dc",minorGridLineColor:"#c4c4c9",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"#ffffff",style:{color:"#727275"}},plotOptions:{series:{dataLabels:{color:"#FFFFFF"},marker:{lineColor:"#FFFFFF"}},boxplot:{fillColor:"#FFFFFF"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{itemStyle:{color:"#89898c"},itemHoverStyle:{color:"#454547"},itemHiddenStyle:{color:"#f2f2f2"}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},scrollbar:{barBackgroundColor:"#C0C0C8",barBorderColor:"#808083",buttonArrowColor:"#454547",buttonBackgroundColor:"#e7e7ee",buttonBorderColor:"#C0C0C8",rifleColor:"#FFF",trackBackgroundColor:"#fafaff",trackBorderColor:"#C0C0C8"},navigator:{xAxis:{gridLineColor:"#D0D0D8"}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"#505053",dataLabelsColor:"#B0B0B3",textColor:"#C0C0C0",contrastTextColor:"#F0F0F3",maskColor:"rgba(255,255,255,0.3)"},Ve=Object(n["a"])({},Ue),Ye={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#393939"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"#282828",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#FFFFFF"},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{disabled:{fill:"rgba(40,40,40,0.3)",stroke:"#000000",style:{color:"rgba(255,255,255,0.3)"}},hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#282828",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"#505053",dataLabelsColor:"#B0B0B3",textColor:"#C0C0C0",contrastTextColor:"#F0F0F3",maskColor:"rgba(255,255,255,0.3)"},Ke=Object(n["a"])({},Ye),Qe=r("ea7f"),We=r.n(Qe);function Ze(){var e=[];for(var t in fe){var r=fe[t];e.push({name:t,color:r,type:"areaspline",data:[],dataGrouping:{enabled:!0},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,r],[1,We.a.Color(r).setOpacity(0).get("rgba")]]}})}return e}var Xe={chart:{zoomType:"x",animation:!1,height:"354x"},time:{useUTC:!1},rangeSelector:{buttons:[{count:1,type:"minute",text:"1m"},{count:5,type:"minute",text:"5m"},{count:10,type:"minute",text:"10m"},{count:30,type:"minute",text:"30m"},{type:"day",count:1,text:"1d"},{type:"all",text:"All"}],inputEnabled:!1,selected:5},exporting:{enabled:!1},tooltip:{xDateFormat:"%H:%M:%S | %d-%m-%Y",shared:!0,split:!1,enabled:!0},legend:{enabled:!0,layout:"horizontal",align:"center",verticalAlign:"bottom",borderWidth:0,style:{color:"#E0E0E3"}},plotOptions:{series:{animation:!1,stacking:"normal",showInNavigator:!0}},loading:{hideDuration:700,labelStyle:{color:"white"},style:{backgroundColor:"gray"}},yAxis:{title:{text:"Job count",margin:20},allowDecimals:!1},xAxis:{title:{text:"Time in UTC (Coordinated Universal Time)"},events:{}},series:Ze(),credits:{text:""}},et=Object(n["a"])({},Xe),tt=r("4452"),rt=r("37d8"),nt=r.n(rt);nt()(We.a);var ot,at={name:"stock-chart",components:{VueHighcharts:tt["Chart"]},props:{isDark:{type:Boolean,default:!1}},data:function(){return{stop:!1,timer:1e3,timerId:null,history:b(be,[]),socketUpdatesCache:b(be,[]),chartOptions:d.a.merge(this.isDark?Ke:Ve,et),unsubscribe:!1}},methods:{startStopSwitch:function(){this.stop=!this.stop}},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.chart||console.log("%c not ready: this.$refs.chart","color: red; font-weight: bold;",e.$refs.chart);var t=e,r=t.$refs.chart.chart,n=Object(l["a"])({},ie,(function(e){var r=e.history.socket.message;if("queue"===r.channel&&"summary"!==r.name){var n=new Date(e.history.event.created).getTime();be.forEach((function(r){t.socketUpdatesCache[r].push([n,e.history.event[r]||0])}))}}));r.showLoading("Loading data from server..."),t.$getChartHistory().subscribe(s,i,c,a);var o=e.$store.subscribe((function(e,t){n[e.type]&&n[e.type](t)}));function a(){return t.unsubscribe}function s(e){e.data.length&&!t.unsubscribe&&e.data.forEach((function(e,r,n){e.timestamp=new Date(e.created).getTime(),be.forEach((function(r){t.history[r].push([e.timestamp,e[r]||0])}))}))}function i(e){console.log(e),console.log("%c on error","color: red; font-weight: bold;",e.type)}function c(){var e=r.series.reduce((function(e,t){return be.includes(t.name)&&e.push(t),e}),[]);o(),e.forEach((function(e){var r=t.history[e.name].concat(t.socketUpdatesCache[e.name]);e.setData(r,!1,!0,!1)})),r.redraw(),r.hideLoading(),t.timerId=setTimeout((function n(){if(!t.stop&&!_(t.getChartData)){var o=t.getChartData,a=new Date(Ge.a.utc().format("YYYY-MM-DDTHH:mm:ss")).getTime(),s=r.pointCount>1750;e.forEach((function(e){e.addPoint([a,o[e.name]],!1,s)})),r.redraw()}t.timerId=setTimeout(n,t.timer)}),t.timer)}}))},computed:Object(n["a"])({},Object(i["e"])({getChartData:function(e){return e.history.event},socketReconnectError:function(e){return e.history.socket.reconnectError}})),watch:{socketReconnectError:"startStopSwitch"},beforeDestroy:function(){this.unsubscribe=!0,clearTimeout(this.timerId)}},st=at,it=(r("77ff"),Object(O["a"])(st,ze,Me,!1,null,"88811304",null)),ct=it.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Unable connect to the server. Please try "),r("a",{on:{click:e.socketConnect}},[e._v("again later")]),e._v(". ")])},ut=[],dt={name:"socket-reconnect-error",data:function(){return{}},methods:{socketConnect:function(){this.$disconnect();var e=JSON.parse(localStorage.getItem("user")).token;this.$connect("".concat(f(),"/event?token=").concat(e))}}},bt=dt,ft=(r("6142"),Object(O["a"])(bt,lt,ut,!1,null,"b5c52be4",null)),pt=ft.exports,mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"960px","min-height":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({staticStyle:{"margin-top":"-7px","margin-bottom":"8px"},attrs:{fab:"",dark:"",small:"",color:"secondary lighten-3"}},"v-btn",o,!1),n),[r("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){return[r("validation-provider",{attrs:{rules:{required:!0,joberror:e.error},name:"Job"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-card",{attrs:{id:"job-card"}},[r("v-toolbar",{attrs:{dense:"",flat:"",color:"transparent"}},[r("v-toolbar-title",[e._v("Enqueue a job")]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!1}}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-close")])],1)],1),r("v-card-text",{staticClass:"pt-0 pb-2"},[r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("v-row",{staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"pb-6 pt-0",attrs:{cols:"12"}},[r("select-2",{attrs:{disabled:e.isLoading,value:e.model,"data-vv-name":"Job","error-messages":n},on:{input:e.onModelChange}}),r("div",{staticClass:"error--text",staticStyle:{"margin-top":"-6px"}},[e._v(e._s(n[0]))])],1),r("v-col",{staticClass:"pt-0 pb-5",attrs:{cols:"12"}},[r("args-editor",{attrs:{disabled:e.isLoading},on:{change:e.onArgsChange}})],1),r("v-col",{staticClass:"pt-9",attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",type:"submit",large:"",loading:e.isLoading,disabled:e.isLoading,color:"accent"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{large:"",light:""}},[e._v("mdi-cached")])],1)]},proxy:!0}],null,!0)},[e._v(" Enqueue ")])],1)],1)],1)],1)],1)]}}],null,!0)})]}}])})],1)},ht=[],gt=r("651e"),jt=r.n(gt),vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){return[r("validation-provider",{attrs:{rules:{required:(e.args||"").length>0},name:"Args"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[null!=e.args?r("v-row",{staticClass:"pt-0 px-0 editor-container",class:{disabled:e.disabled},attrs:{"no-gutters":""}},[r("v-col",{staticStyle:{"margin-top":"-22px"},attrs:{cols:"12"}},[e._v(" Args "),r("span",{staticClass:"pl-3 error--text"},[e._v(e._s(n[0]))])]),r("v-row",[r("v-col",{staticClass:"py-0 ace-container",attrs:{cols:"8"}},[r("ace-editor",{attrs:{disabled:e.disabled,height:"140px",language:"yaml"},model:{value:e.args,callback:function(t){e.args=t},expression:"args"}}),r("v-chip",{staticClass:"language-chip",attrs:{small:"",label:""}},[e._v("yaml")])],1),r("v-col",{staticClass:"json py-0",staticStyle:{"pointer-events":"none"},attrs:{cols:"4"}},[r("div",[r("pre",[e._v(e._s(e.json))])])])],1)],1):e._e()]}}],null,!0)})]}}])})},yt=[],_t=r("7bb1"),kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ace-editor",{attrs:{id:"editor",lang:e.language,theme:e.theme,width:"100%",height:e.height},on:{init:e.editorInit},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})},xt=[],wt=r("7c9e"),Ct=r.n(wt),Ot=null,Et={name:"ace-editor-wrapper",components:{AceEditor:Ct.a},computed:{theme:function(){return this.$store.getters.dark?"monokai":"xcode"},internalValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},props:{value:{type:String,default:""},label:{type:String,default:"Settings"},language:{type:String,default:"yaml",required:!0},disabled:{type:Boolean,default:!1,required:!1},height:{type:String,default:"760px",required:!1},fontFamily:{type:String,default:void 0,required:!1}},watch:{disabled:function(e,t){this.updateEditor({readOnly:e})}},methods:{updateEditor:function(e){Ot.setOptions(e)},editorInit:function(e){Ot=e,this.updateEditor({readOnly:this.disabled,fontFamily:this.fontFamily,fontSize:"13px",wrap:!0}),r("2099"),r("c1d1")("./".concat(this.language)),r("07ed")("./".concat(this.theme))}},data:function(){return{}}},St=Et,Dt=(r("feea"),Object(O["a"])(St,kt,xt,!1,null,"227eaeb4",null)),Jt=Dt.exports,Rt={props:{disabled:{type:Boolean,default:!1,required:!0}},beforeDestroy:function(){ot&&ot.dispose(),this.args=null},mounted:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:e.args="";case 3:case"end":return t.stop()}}),t)})))()},methods:{},components:{ValidationProvider:_t["b"],ValidationObserver:_t["a"],AceEditor:Jt},data:function(){return{args:null,editor:null}},watch:{args:function(e,t){this.$emit("change",e)}},computed:{json:function(){return jt.a.safeLoad(this.args)}}},Lt=Rt,Ft=(r("9c49"),Object(O["a"])(Lt,vt,yt,!1,null,"588817ec",null)),qt=Ft.exports,$t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("select")},Tt=[],At=r("1157"),Pt=r.n(At),Bt=(r("0e33"),r("d724"),{props:{value:{type:String,default:"",required:!0},errorMessages:{type:Array,default:function(){return[]},required:!0}},watch:{},beforeDestroy:function(){Pt()(this.$el).select2("destroy")},mounted:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:r=e,n={theme:"material",dropdownParent:Pt()("#job-card"),multiple:!1,createTag:!0,width:"100%",placeholder:"Search for a job",allowClear:!1,ajax:{url:"/core4/api/v1/job/list",data:function(e){var t={search:e.term,page:e.page||0};return t},processResults:function(e,t){t.page=e.page;var r=e.data.map((function(e){return{id:e._id,text:e._id}}));return{results:r,pagination:{more:e.page<e.page_count-1}}}}},Pt()(e.$el).select2(n),Pt()(e.$el).on("change",(function(){var e=Pt()(this).select2("data")[0];r.$emit("input",e.id)})),Pt()(".select2-selection__arrow").html("↓");case 7:case"end":return t.stop()}}),t)})))()}}),Nt=Bt,It=(r("cbd7"),Object(O["a"])(Nt,$t,Tt,!1,null,null,null)),zt=It.exports;Object(_t["c"])("joberror",{validate:function(e,t){var r=t.error;return null==r},params:["error"],message:function(e,t){return t.error}});var Mt={components:{"select-2":zt,ArgsEditor:qt,ValidationProvider:_t["b"],ValidationObserver:_t["a"]},data:function(){return{dialog:!1,model:"",entries:[],isLoading:!1,search:"",args:""}},created:function(){},methods:{onArgsChange:function(e){this.$store.dispatch("jobs/clearJobError"),this.args=e},onModelChange:function(e){this.model=e,this.$store.dispatch("jobs/clearJobError")},save:function(e){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e&&e.preventDefault(),t.$store.dispatch("jobs/clearJobError"),t.$refs.observer.validate().then(function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return t.isLoading=!0,e.next=4,t.$store.dispatch("jobs/enqueueJob",{job:t.model,args:jt.a.safeLoad(t.args)});case 4:n=e.sent,t.isLoading=!1,n&&(t.dialog=!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}},beforeDestroy:function(){},watch:{open:function(e,t){e&&this.$store.dispatch("jobs/clearJob")}},computed:Object(n["a"])(Object(n["a"])({},Object(i["e"])("jobs",["error"])),{},{items:function(){return this.entries}})},Ht=Mt,Gt=(r("d81e"),Object(O["a"])(Ht,mt,ht,!1,null,"bc2fce60",null)),Ut=Gt.exports,Vt={mounted:function(){this.$root.$confirm=this.$refs.confirm},name:"home",components:{ConfirmDialog:ne,JobDetail:W,SocketReconnectError:pt,Board:Ie,StockChart:ct,StartJob:Ut},data:function(){return{groupsJobsByStates:he,flags:me}},methods:Object(n["a"])(Object(n["a"])({},Object(i["d"])({notificationUpdate:ue})),{},{notificationUpdateHandler:function(e,t){this.notificationUpdate({name:e,data:t})}}),computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(i["e"])({notifications:function(e){return e.history.notifications},socketConnected:function(e){return e.history.socket.isConnected}})),Object(i["c"])("jobs",["jobDetailDialogOpen"])),Object(i["c"])(["dark"])),Object(i["c"])("app",["stockChartVisible"])),watch:{socketConnected:function(e){var t={state:!1};e||(t.state=!0,t.type="error",t.slot="socketReconnectError"),this.notificationUpdateHandler("socket_reconnect_error",t)}}},Yt=Vt,Kt=(r("06f4"),Object(O["a"])(Yt,J,R,!1,null,"1a2d046c",null)),Qt=Kt.exports;o["default"].use(D["a"]);var Wt,Zt=new D["a"]({routes:[{path:"/",name:"home",component:Qt,meta:{hideNav:!1,title:"Home"}}]}),Xt=b(be,0),er={queue:Object(n["a"])({summary:ir},de.reduce((function(e,t){return e[t]=cr,e}),{}))},tr={queue:{},event:{},socket:{isConnected:!1,message:"",reconnectError:!1},notifications:{socket_reconnect_error:{state:!1,type:"error",dismissible:!1,message:"",slot:"",inComponents:["home"]}}},rr={},nr=(Wt={},Object(l["a"])(Wt,oe,(function(e,t){o["default"].prototype.$socket=t.currentTarget,o["default"].prototype.$socket.sendObj({type:"interest",data:["queue","event","job"]}),e.socket.isConnected=!0,e.socket.reconnectError=!1})),Object(l["a"])(Wt,ae,(function(e){})),Object(l["a"])(Wt,se,(function(e,t){console.error(e,t)})),Object(l["a"])(Wt,ie,(function(e,t){e.socket.message=t,t.channel&&t.name&&er[t.channel][t.name](e,t)})),Object(l["a"])(Wt,ce,(function(e,t){console.info(e,t)})),Object(l["a"])(Wt,le,(function(e){e.socket.isConnected=!1,e.socket.reconnectError=!0})),Object(l["a"])(Wt,ue,(function(e,t){h(e.notifications[t.name],t.data)})),Wt),or=Object(n["a"])(Object(n["a"])({},sr(ge)),{},{getJobsByGroupName:function(e,t){return function(e){return t[e]}},getStateCounter:function(e){return function(t){return void 0===e.queue.stat?0:t.reduce((function(t,r){return t+=e.queue.stat[r]||0,t}),0)}}}),ar={namespaced:!1,state:tr,actions:rr,mutations:nr,getters:or};function sr(e){return e.reduce((function(e,t){return e[t]=function(e){return d.a.cloneDeep(e.queue[t]||[])},e}),{})}function ir(e,t){e.queue=lr(t.created,t.data,"state"),e.socket.reconnectError||(e.event=e.queue.stat)}function cr(e,t){e.event=Object(n["a"])(Object(n["a"])({},Xt),t.data.queue),e.event.created=t.created}function lr(e,t,r){var o={},a=b(pe);return t.forEach((function(t){t.key||(t.key=ur(t));var n=t[r],s=pe[n]||"other";(o[s]=o[s]||[]).push(t),a[n]+=t.n,a.created=new Date(e).getTime()})),Object(n["a"])({stat:a},o)}function ur(e){var t="".concat(e.name,"-").concat(e.state);for(var r in me)e[r]&&(t+="-".concat(r));return t}r("7db0"),r("4de4");var dr=r("bc3a"),br=r.n(dr),fr=r("b16a");console.log("process.env.VUE_APP_APIBASE_APP 18.01.21 v4","/core4/api/v1");var pr=function(){},mr=function(){};function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"",json:{},GET:!1},t="".concat("/core4/api/v1","/").concat(e.endpoint),r={headers:{"Content-Type":"text/plain"},payload:JSON.stringify(e.json)};return!0===e.GET&&delete r.payload,new fr["SSE"](t,r)}var gr={errorHandlerCaught:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e.response.data,r=!1;return 403===t.code&&(o["default"].prototype.raiseError(e),r=!0),r},get:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return pr(),r.prev=1,r.next=4,br.a.get(e,{params:t});case 4:return n=r.sent,r.abrupt("return",n);case 8:if(r.prev=8,r.t0=r["catch"](1),!1!==gr.errorHandlerCaught(r.t0)){r.next=12;break}throw r.t0;case 12:return r.prev=12,mr(),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()},post:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return pr(),r.prev=1,r.next=4,br.a.post(e,t);case 4:return n=r.sent,r.abrupt("return",n);case 8:if(r.prev=8,r.t0=r["catch"](1),!1!==gr.errorHandlerCaught(r.t0)){r.next=12;break}throw r.t0;case 12:return r.prev=12,mr(),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()},put:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return pr(),r.prev=1,r.next=4,br.a.put(e,t);case 4:return n=r.sent,r.abrupt("return",n);case 8:if(r.prev=8,r.t0=r["catch"](1),!1!==gr.errorHandlerCaught(r.t0)){r.next=12;break}throw r.t0;case 12:return r.prev=12,mr(),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()},delete:function(e){return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return pr(),t.prev=1,t.next=4,br.a.delete(e);case 4:return r=t.sent,t.abrupt("return",r);case 8:if(t.prev=8,t.t0=t["catch"](1),!1!==gr.errorHandlerCaught(t.t0)){t.next=12;break}throw t.t0;case 12:return t.prev=12,mr(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))()},customRequest:function(e){return br()(e)}},jr=gr;r("5319");function vr(e){if(null==e)return"No error message found";if("string"===typeof e&&(e.includes("core4.error")||e.includes("tornado.web.HTTPError"))){var t=e.split(":"),r=e.split(")"),n=r[0].split("(");return"".concat(t[0],": ").concat(n[1]).replace(/{/g,"")}return e}function yr(e){var t={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return new Date(e).toLocaleDateString("de-DE",t)}var _r,kr=[];function xr(e){try{null!=e?(e.source.removeEventListener("log"),e.source.removeEventListener("update"),e.source.removeEventListener("state"),e.source.removeEventListener("close"),e.source.removeEventListener("error"),e.source.close()):(kr.forEach((function(e){e.removeEventListener("log"),e.removeEventListener("update"),e.removeEventListener("state"),e.removeEventListener("close"),e.removeEventListener("error"),e.close()})),kr=[])}catch(t){}}function wr(e){if("string"===typeof e.error){var t=JSON.parse(e.error),r=vr(t.error);$r.commit("jobs/addError",r)}}var Cr={pagination:{descending:!0,page:0,itemsPerPage:10,rowsPerPageItems:[10,25,50,100,-1],totalJobs:0},jobDetailDialogOpen:!1,log:"",error:null,job:{_id:null,args:""},jobs:[],jobManagerBusy:!1},Or={clearJobError:function(e){e.commit("addError",null)},clearJob:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dialog:!1};return e.commit("clearJob",null),e.commit("clearJobs"),e.commit("clearLog"),e.commit("clearJobPagination"),e.commit("setJobsDialogOpen",t.dialog),window.clearTimeout(_r),kr.length>0&&xr(),!0},addLog:function(e,t){e.commit("addLog",t)},setJob:function(e,t){e.commit("setJob",t),null!=t._id&&e.dispatch("logJob",t._id)},fetchJob:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,jr.get("job/".concat(t));case 2:return n=r.sent,e.commit("setJob",n.data),r.abrupt("return",n.data);case 5:case"end":return r.stop()}}),r)})))()},fetchJobArgs:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,jr.get("job/".concat(t));case 2:n=r.sent,e.commit("setJobArgs",n.data.args);case 4:case"end":return r.stop()}}),r)})))()},logJob:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.commit("clearLog");var r=t||Cr.job._id,n=JSON.parse(localStorage.getItem("user")).token,o=hr({endpoint:"job/follow/".concat(r,"?token=").concat(n),json:null,GET:!0});kr.push(o),o.addEventListener("log",(function(t){var r=JSON.parse(t.data),n=r.message,o=r.epoch;e.dispatch("addLog",{message:n,date:yr(new Date(1e3*o))})})),o.addEventListener("error",wr),o.addEventListener("close",xr),o.stream()},updateJob:function(e,t){e.commit("updateJob",t)},pollEnqueuedJob:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{job:null,follow:!0};return new Promise((function(r,n){e.commit("addError",null),e.commit("clearJob");var o,a=JSON.parse(localStorage.getItem("user")).token;o=!0===t.follow?"job/follow/".concat(t.job._id,"?token=").concat(a):"job/".concat(t.job._id,"?token=").concat(a);var s=hr({endpoint:o});s.addEventListener("state",(function(t){var r=JSON.parse(t.data);e.dispatch("updateJob",r)})),s.addEventListener("log",(function(t){var r=JSON.parse(t.data),n={message:r.message,date:yr(new Date),level:null};e.dispatch("addLog",n)})),s.addEventListener("error",(function(e){wr(e)})),s.addEventListener("close",xr),s.stream(),kr.push(s)}))},enqueueJob:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n,o,a,s,i,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.dispatch("clearJob"),n=t.job,o=t.args,a=Object.assign({},{args:o},{qual_name:n,follow:!1}),r.prev=4,r.next=7,jr.post("job",a);case 7:return i=r.sent,s=i.data,c={_id:s,name:n,qual_name:n},e.commit("setJob",c),e.dispatch("fetchJob",s).then((function(t){e.commit("setJobs",[t]),e.commit("setJobPagination",{page:0,count:1,total_count:1}),e.commit("setJobsDialogOpen",!0)})),e.dispatch("pollEnqueuedJob",{job:c,follow:!0}),e.dispatch("pollEnqueuedJob",{job:c,follow:!1}),r.abrupt("return",!0);case 17:r.prev=17,r.t0=r["catch"](4),l=vr(r.t0.response.data.error),$r.commit("jobs/addError",l);case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()},openJobsDialog:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.dispatch("setJob",d.a.cloneDeep(t)),e.commit("setJobsDialogOpen",!0);case 2:case"end":return r.stop()}}),r)})))()},fetchJobsByName:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var n,o,a,s,i,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.log("fetchJobsByName",t),!(e.state.jobs.length>0)||t.force){r.next=3;break}return r.abrupt("return");case 3:return n=t.job||e.state.job||e.state.job,o=n.qual_name||n.name||"",a=(t.options||{}).page-1||e.state.pagination.page,s=(t.options||{}).itemsPerPage||e.state.pagination.itemsPerPage,i={per_page:s,page:a,filter:{name:o,state:n.state}},r.next=10,jr.get("job/queue",i);case 10:return c=r.sent,e.commit("setJobs",c.data),e.commit("setJobPagination",c),c.data.length>0&&(l=c.data.find((function(e){return e.state===n.state})),e.dispatch("setJob",d.a.cloneDeep(l||c.data[0]))),r.abrupt("return",!0);case 15:case"end":return r.stop()}}),r)})))()},setJobManagerBusy:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("setJobManagerBusy",t);case 1:case"end":return r.stop()}}),r)})))()},markJobRemoved:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("markJobRemoved",t);case 1:case"end":return r.stop()}}),r)})))()},manageJob:function(e){var t=arguments;return Object(q["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:"restart",e.commit("setJobManagerBusy",!0),window.clearTimeout(_r),a=d.a.cloneDeep(e.state.job),r.prev=4,s="restart"===n?"?follow=false":"",r.next=8,jr.put("job/".concat(n,"/").concat(e.state.job._id).concat(s));case 8:"remove"===n||"restart"===n?e.dispatch("markJobRemoved",a):"kill"===n&&(_r=window.setTimeout((function(){e.dispatch("fetchJobsByName",{job:a,force:!0,options:{page:e.state.pagination.page-1}})}),300)),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),o["default"].prototype.raiseError(r.t0);case 14:return r.prev=14,e.commit("setJobManagerBusy",!1),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[4,11,14,17]])})))()}},Er={clearJobPagination:function(e,t){e.pagination={descending:!0,page:0,itemsPerPage:10,rowsPerPageItems:[10,25,50,100,-1],totalJobs:0}},setJobPagination:function(e,t){console.log(t),e.pagination.page=t.page+1,e.pagination.itemsPerPage=t.count,e.pagination.totalJobs=t.total_count},setJobsDialogOpen:function(e,t){e.jobDetailDialogOpen=t},setJobManagerBusy:function(e,t){e.jobManagerBusy=t},addLog:function(e,t){e.log=(e.log||"")+t.date+" | "+t.message+"\n"},clearLog:function(e,t){e.log=[]},addError:function(e,t){e.error=t},clearJobs:function(e){e.jobs=[]},clearJob:function(e){e.job={_id:null}},removeJob:function(e,t){e.jobs=e.jobs.filter((function(e){return e._id!==t})),e.job._id===t&&(e.job=e.jobs[0]||null)},markJobRemoved:function(e,t){e.job.$removed=!0,e.jobs=e.jobs.map((function(e){return e._id===t._id&&(e.$removed=!0),e}))},updateJob:function(e,t){e.jobs=e.jobs.map((function(r){return r._id===t._id&&(r=d.a.merge(r,t),"complete"===r.state&&(r.prog.value=1),e.job._id===t._id&&(e.job=r)),r}))},setJobs:function(e,t){e.jobs=t||[]},setJob:function(e,t){e.job=t},setJobArgs:function(e,t){e.job.args=t}},Sr={jobDetailDialogOpen:function(e){return e.jobDetailDialogOpen},totalJobs:function(e){return e.pagination.totalJobs},jobRowsPerPageItems:function(e){return e.pagination.rowsPerPageItems},job:function(e){return e.job},jobManagerBusy:function(e){return e.jobManagerBusy},jobs:function(e){return e.jobs},filteredJobs:function(e){return null!=e.filter&&Array.isArray(e.filter)?e.jobs.filter((function(t){return!!e.filter.includes(t.state)})):e.jobs},log:function(e){return e.log}},Dr={namespaced:!0,state:Cr,actions:Or,mutations:Er,getters:Sr},Jr={stockChartVisible:!0},Rr={toggleChartVis:function(e){e.commit("setChart",!e.state.stockChartVisible)},showChart:function(e){e.commit("setChart",!0)},hideChart:function(e){e.commit("setChart",!1)}},Lr={setChart:function(e,t){e.stockChartVisible=t}},Fr={stockChartVisible:function(e){return e.stockChartVisible}},qr={namespaced:!0,state:Jr,actions:Rr,mutations:Lr,getters:Fr};o["default"].use(i["a"]);var $r=new i["a"].Store({plugins:[],strict:!0,modules:{app:qr,history:ar,jobs:Dr}}),Tr=r("b408"),Ar=r.n(Tr),Pr=r("b85c"),Br=r("dddc"),Nr={getWidgets:function(){return Br["a"].get("/info",{params:{per_page:1e3,page:0}}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response)}))},getSetting:function(e){var t=e?"/setting/".concat(e):"/setting";return Br["a"].get(t).then((function(e){return e.data})).catch((function(e){return Promise.reject(e)}))},getQueueHistory:function(e,t,r,n,o){var a=JSON.parse(localStorage.getItem("user")).token,s=e?"page=".concat(e):"",i=t?"&perPage=".concat(t):"",c=r?"&startDate=".concat(r):"",l=n?"&endDate=".concat(n):"",u=o?"&sort=".concat(o):"&sort=1";return Br["a"].get("/queue/history?".concat(s).concat(i).concat(c).concat(l).concat(u,"&token=").concat(a)).then((function(e){return{total_count:e.total_count,page:e.page,per_page:e.per_page,page_count:e.page_count,data:e.data}})).catch((function(e){return Promise.reject(e)}))}},Ir=regeneratorRuntime.mark(Mr),zr={install:function(e,t){var r=Nr;for(var n in r)e.prototype["$".concat(n)]=r[n];e.prototype.$getChartHistory=m(Mr)}};function Mr(e,t){var r,n,o,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=1e3,i.prev=1,i.next=4,Hr(n,1,e,t);case 4:r=i.sent,o=Object(Pr["a"])(p(++r.page,--r.page_count)),i.prev=6,o.s();case 8:if((a=o.n()).done){i.next=14;break}return s=a.value,i.next=12,Nr.getQueueHistory(s,n,r.startDate,r.endDate);case 12:i.next=8;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](6),o.e(i.t0);case 19:return i.prev=19,o.f(),i.finish(19);case 22:i.next=27;break;case 24:i.prev=24,i.t1=i["catch"](1),console.log(i.t1);case 27:case"end":return i.stop()}}),Ir,null,[[1,24],[6,16,19,22]])}function Hr(e,t,r,n){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(q["a"])(regeneratorRuntime.mark((function e(t,r,n,o){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=6;break}return e.next=4,Nr.getSetting();case 4:a=e.sent,a.comoco&&a.comoco.startDate&&(n=Ge()(a.comoco.startDate).format("YYYY-MM-DDTHH:mm:ss"));case 6:return o&&(o=Ge()(o).format("YYYY-MM-DDTHH:mm:ss")),e.next=9,Nr.getQueueHistory(null,t,n,o,r);case 9:s=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](0),Error(e.t0);case 15:return s.startDate=n,s.endDate=o,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[0,12]])}))),Gr.apply(this,arguments)}var Ur=r("1528"),Vr=r("4c93"),Yr={TITLE:"COMOCO"};Ge.a.locale("de"),Object(_t["c"])("required",Object(n["a"])(Object(n["a"])({},Vr["a"]),{},{message:"{_field_} can not be empty"})),Object(_t["d"])("eager"),o["default"].use(Ar.a," ",{store:$r,format:"json",connectManually:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),o["default"].use(zr),o["default"].use(Ur["a"],{App:S,router:Zt,store:$r,config:{TITLE:"COMOCO"}})},"5d92":function(e,t,r){},6142:function(e,t,r){"use strict";r("4e8d")},"62e3":function(e,t,r){},"67f8":function(e,t,r){},"6f1c":function(e,t,r){},"77ff":function(e,t,r){"use strict";r("67f8")},"88ea":function(e,t,r){},"9c49":function(e,t,r){"use strict";r("62e3")},a13e:function(e,t,r){},a918:function(e,t,r){},b16a:function(e,t,r){r("159b"),r("1276"),r("ac1f"),r("498a"),r("1e25"),r("eee7");var n=function e(t,r){if(!(this instanceof e))return new e(t,r);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=t,r=r||{},this.headers=r.headers||{},this.payload=void 0!==r.payload?r.payload:"",this.method=r.method||this.payload&&"POST"||"GET",this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==this.listeners[e]){var r=[];this.listeners[e].forEach((function(e){e!==t&&r.push(e)})),0===r.length?delete this.listeners[e]:this.listeners[e]=r}},this.dispatchEvent=function(e){if(!e)return!0;e.source=this;var t="on"+e.type;return(!this.hasOwnProperty(t)||(this[t].call(this,e),!e.defaultPrevented))&&(!this.listeners[e.type]||this.listeners[e.type].every((function(t){return t(e),!e.defaultPrevented})))},this._setReadyState=function(e){var t=new CustomEvent("readystatechange");t.readyState=e,this.readyState=e,this.dispatchEvent(t)},this._onStreamFailure=function(e,t){var r=new CustomEvent("error");r.error=t||null,this.dispatchEvent(r),this.close()},this._onStreamProgress=function(e){if(this.xhr)if(200===this.xhr.status){this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var t=this.xhr.responseText.substring(this.progress);this.progress+=t.length,t.split(/(\r\n|\r|\n){2}/g).forEach(function(e){0===e.trim().length?(this.dispatchEvent(this._parseEventChunk(this.chunk.trim())),this.chunk=""):this.chunk+=e}.bind(this))}else this._onStreamFailure(e,this.xhr.response)},this._onStreamLoaded=function(e){this._onStreamProgress(e),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(e){if(!e||0===e.length)return null;var t={id:null,retry:null,data:"",event:"message"};e.split(/\n|\r\n|\r/).forEach(function(e){e=e.trimRight();var r=e.indexOf(this.FIELD_SEPARATOR);if(!(r<=0)){var n=e.substring(0,r);if(n in t){var o=e.substring(r+1).trimLeft();"data"===n?t[n]+=o:t[n]=o}}}.bind(this));var r=new CustomEvent(t.event);return r.data=t.data,r.id=t.id,r},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){for(var e in this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamFailure.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(e,this.headers[e]);this.xhr.send(this.payload)},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))}};t.SSE=n},c1d1:function(e,t,r){var n={"./abap":"0f4c","./abap.js":"0f4c","./abc":"2182","./abc.js":"2182","./actionscript":"3aca","./actionscript.js":"3aca","./ada":"b67a","./ada.js":"b67a","./apache_conf":"cc25","./apache_conf.js":"cc25","./applescript":"1a9b","./applescript.js":"1a9b","./asciidoc":"fb9a","./asciidoc.js":"fb9a","./assembly_x86":"2c7e","./assembly_x86.js":"2c7e","./autohotkey":"261e","./autohotkey.js":"261e","./batchfile":"3b23","./batchfile.js":"3b23","./bro":"59ae","./bro.js":"59ae","./c9search":"cc33","./c9search.js":"cc33","./c_cpp":"2b41","./c_cpp.js":"2b41","./cirru":"bfca","./cirru.js":"bfca","./clojure":"ad7f","./clojure.js":"ad7f","./cobol":"5c15","./cobol.js":"5c15","./coffee":"be41","./coffee.js":"be41","./coldfusion":"2ac2","./coldfusion.js":"2ac2","./csharp":"201bb","./csharp.js":"201bb","./csound_document":"beeb","./csound_document.js":"beeb","./csound_orchestra":"e7fd","./csound_orchestra.js":"e7fd","./csound_score":"fb78","./csound_score.js":"fb78","./css":"146d","./css.js":"146d","./curly":"b8fd","./curly.js":"b8fd","./d":"6d93","./d.js":"6d93","./dart":"6bf4","./dart.js":"6bf4","./diff":"55e2","./diff.js":"55e2","./django":"b9fa","./django.js":"b9fa","./dockerfile":"961b","./dockerfile.js":"961b","./dot":"021c","./dot.js":"021c","./drools":"486b","./drools.js":"486b","./eiffel":"0a841","./eiffel.js":"0a841","./ejs":"b8d3","./ejs.js":"b8d3","./elixir":"9c1b","./elixir.js":"9c1b","./elm":"ad4b","./elm.js":"ad4b","./erlang":"2a25","./erlang.js":"2a25","./forth":"e148","./forth.js":"e148","./fortran":"caf5","./fortran.js":"caf5","./ftl":"b48d","./ftl.js":"b48d","./gcode":"a520","./gcode.js":"a520","./gherkin":"f222","./gherkin.js":"f222","./gitignore":"c3ab","./gitignore.js":"c3ab","./glsl":"092b","./glsl.js":"092b","./gobstones":"37b0","./gobstones.js":"37b0","./golang":"32ff","./golang.js":"32ff","./graphqlschema":"e83d","./graphqlschema.js":"e83d","./groovy":"0f6a","./groovy.js":"0f6a","./haml":"ce5f","./haml.js":"ce5f","./handlebars":"5bb1","./handlebars.js":"5bb1","./haskell":"bb8b","./haskell.js":"bb8b","./haskell_cabal":"44db","./haskell_cabal.js":"44db","./haxe":"30c7","./haxe.js":"30c7","./hjson":"5227","./hjson.js":"5227","./html":"be9d","./html.js":"be9d","./html_elixir":"25c1","./html_elixir.js":"25c1","./html_ruby":"000c","./html_ruby.js":"000c","./ini":"c562","./ini.js":"c562","./io":"b3e8","./io.js":"b3e8","./jack":"e2dd","./jack.js":"e2dd","./jade":"0ae2","./jade.js":"0ae2","./java":"3969","./java.js":"3969","./javascript":"bb36","./javascript.js":"bb36","./json":"818b","./json.js":"818b","./jsoniq":"3a08","./jsoniq.js":"3a08","./jsp":"52cb","./jsp.js":"52cb","./jssm":"7496","./jssm.js":"7496","./jsx":"b257","./jsx.js":"b257","./julia":"533f","./julia.js":"533f","./kotlin":"b04c","./kotlin.js":"b04c","./latex":"37aa","./latex.js":"37aa","./lean":"6d06","./lean.js":"6d06","./less":"0329","./less.js":"0329","./liquid":"0752","./liquid.js":"0752","./lisp":"9312","./lisp.js":"9312","./live_script":"4151","./live_script.js":"4151","./livescript":"2b0c","./livescript.js":"2b0c","./logiql":"27b6","./logiql.js":"27b6","./lsl":"98d6","./lsl.js":"98d6","./lua":"85d4","./lua.js":"85d4","./luapage":"7845","./luapage.js":"7845","./lucene":"e016","./lucene.js":"e016","./makefile":"3976","./makefile.js":"3976","./markdown":"c1a9","./markdown.js":"c1a9","./mask":"33a3","./mask.js":"33a3","./matlab":"9f14","./matlab.js":"9f14","./mavens_mate_log":"2bb4","./mavens_mate_log.js":"2bb4","./maze":"3a0f","./maze.js":"3a0f","./mel":"0469","./mel.js":"0469","./mips_assembler":"772f","./mips_assembler.js":"772f","./mipsassembler":"dff3","./mipsassembler.js":"dff3","./mushcode":"a295","./mushcode.js":"a295","./mysql":"61fa","./mysql.js":"61fa","./nix":"cd2f","./nix.js":"cd2f","./nsis":"9690","./nsis.js":"9690","./objectivec":"4c0e","./objectivec.js":"4c0e","./ocaml":"c6bb","./ocaml.js":"c6bb","./pascal":"e789","./pascal.js":"e789","./perl":"6a02","./perl.js":"6a02","./pgsql":"5bb9","./pgsql.js":"5bb9","./php":"7ca9","./php.js":"7ca9","./pig":"d0bd","./pig.js":"d0bd","./plain_text":"f08b","./plain_text.js":"f08b","./powershell":"a669","./powershell.js":"a669","./praat":"f5f6","./praat.js":"f5f6","./prolog":"4611","./prolog.js":"4611","./properties":"e0e5","./properties.js":"e0e5","./protobuf":"0b97","./protobuf.js":"0b97","./python":"8882","./python.js":"8882","./r":"91c1","./r.js":"91c1","./razor":"f443","./razor.js":"f443","./rdoc":"2bb9","./rdoc.js":"2bb9","./red":"8c80","./red.js":"8c80","./rhtml":"21e1","./rhtml.js":"21e1","./rst":"9901","./rst.js":"9901","./ruby":"3637","./ruby.js":"3637","./rust":"53e5","./rust.js":"53e5","./sass":"bfee","./sass.js":"bfee","./scad":"3e23","./scad.js":"3e23","./scala":"6785","./scala.js":"6785","./scheme":"d382","./scheme.js":"d382","./scss":"de8d","./scss.js":"de8d","./sh":"446e","./sh.js":"446e","./sjs":"9909","./sjs.js":"9909","./smarty":"dc1f","./smarty.js":"dc1f","./snippets":"e767","./snippets.js":"e767","./soy_template":"df8f","./soy_template.js":"df8f","./space":"9855","./space.js":"9855","./sparql":"2f07","./sparql.js":"2f07","./sql":"842f","./sql.js":"842f","./sqlserver":"1ce5","./sqlserver.js":"1ce5","./stylus":"84aa3","./stylus.js":"84aa3","./svg":"61c5","./svg.js":"61c5","./swift":"ba68","./swift.js":"ba68","./swig":"614c","./swig.js":"614c","./tcl":"e319","./tcl.js":"e319","./tex":"6e9e","./tex.js":"6e9e","./text":"8a2a","./text.js":"8a2a","./textile":"ef17","./textile.js":"ef17","./toml":"ab7f","./toml.js":"ab7f","./tsx":"310a","./tsx.js":"310a","./turtle":"7931","./turtle.js":"7931","./twig":"1012","./twig.js":"1012","./typescript":"480b","./typescript.js":"480b","./vala":"bc06","./vala.js":"bc06","./vbscript":"d45b","./vbscript.js":"d45b","./velocity":"e173","./velocity.js":"e173","./verilog":"7d38","./verilog.js":"7d38","./vhdl":"a2cf","./vhdl.js":"a2cf","./wollok":"b640","./wollok.js":"b640","./xml":"0696","./xml.js":"0696","./xquery":"f9e4","./xquery.js":"f9e4","./yaml":"2968","./yaml.js":"2968"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="c1d1"},c31cb:function(e,t,r){"use strict";r("ea38")},cbd7:function(e,t,r){"use strict";r("6f1c")},d81e:function(e,t,r){"use strict";r("2668")},d8db:function(e,t,r){"use strict";r("23fb")},ea38:function(e,t,r){},feea:function(e,t,r){"use strict";r("88ea")}});
//# sourceMappingURL=app.js.map